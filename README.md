# db_movie
ğŸ”a responsive douban movie search site based on douban api

- è·¨åŸŸ

ç›´æ¥è¯·æ±‚apiåœ°å€ä¼šæŠ¥é”™ï¼Œå› ä¸ºåŒæºé™åˆ¶ã€‚

è§£å†³ï¼šæ”¯æŒjsonpçš„è·¨åŸŸæ–¹å¼ï¼Œdatatypeæ”¹ä¸ºjsonpï¼Œåœ¨urlååŠ ä¸Šcallback=xxx

- æ‹¼æ¥å¤šè¡Œurlçš„æ–¹æ³•

1. æ¯ä¸€è¡Œç»“å°¾åŠ è½¬ç§»ç¬¦å·`\`
2. ç”¨`+`æ‹¼æ¥å­—ç¬¦ä¸²
3. å†™æˆæ•°ç»„ï¼Œæ¯ä¸€é¡¹ä¸ºå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œæœ€åè°ƒç”¨`join()`
4. æ¨èï¼šes6æ¨¡ç‰ˆå­—ç¬¦ä¸²

- å¦‚ä½•åˆ¤æ–­æ»šåŠ¨åˆ°åº•éƒ¨

éœ€æ±‚ï¼šæ»šåŠ¨åˆ°åº•éƒ¨ååŠ è½½count20-40çš„æ•°æ®

- scrolltopçš„é«˜åº¦ï¼ˆæ»šåŠ¨è¿‡çš„è·ç¦»ï¼‰+ mainå®¹å™¨çš„é«˜åº¦ = å†…å®¹sectioné«˜åº¦ï¼Œæ‰€ä»¥åªè¦å‰è€…å¤§äºå†…å®¹å—é«˜åº¦ï¼Œå³å¯ç›‘æµ‹åˆ°æ»‘åŠ¨
  - ç›‘å¬æ»šåŠ¨äº‹ä»¶
  - è¯·æ±‚æˆåŠŸåcount+=20

- é¡µé¢æœ€ä¸‹é¢è®¾ç½®ä¸€ä¸ªé€æ˜å…ƒç´ ï¼Œåœ¨æ»šåŠ¨æ—¶è‹¥ä¸‹é¢çš„å…ƒç´ å‡ºç°åœ¨è§†çª—ä¸‹ï¼Œè¿™æ—¶å†å»å‘è¯·æ±‚ï¼Œè·å–æ•°æ®åï¼Œè¿™ä¸ªå…ƒç´ åˆè¢«æ’‘åˆ°æœ€ä¸‹ã€‚
  - å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°åœ¨è§†çª—å†…

- æ‡’åŠ è½½

1. çª—å£çš„é«˜åº¦ï¼šæ»šåŠ¨æ˜¯åœ¨å›ºå®šé«˜åº¦çš„çª—å£å†…æ»šåŠ¨ï¼›
2. æ»šåŠ¨çš„è·ç¦»

- èŠ‚æµ

1. é¼ æ ‡æ»šåŠ¨åˆ°åº•çš„æ—¶å€™ï¼Œé¿å…ğŸ˜Šçš„æ“ä½œå°±ä¼šå¯¼è‡´å†æ¬¡å‘èµ·è¯·æ±‚ï¼Œç»™é¡µé¢è®¾ç½®ä¸€ä¸ªé”ã€‚
2. å‡½æ•°èŠ‚æµ

  ```javascript
  let timer
    $('main').on('scroll', function() {
      if(timer) clearTimeout(timer)
      timer = setTimeout(() => {
        if($('section').eq(0).height() - 10 <= $('main').scrollTop() + $('main').height()) {
          requestData()
          $('.loader').addClass('fired')
        }
      }, 300);
    })
  ```

- loadingå›¾

é€šè¿‡æ·»åŠ ä¸€æ®µsvgæ¥å®ç°

- ç»„ç»‡ä»£ç 

1. init-åˆå§‹åŒ–ï¼Œé€‰æ‹©å…ƒç´ ç­‰
2. bind-ç»™å…ƒç´ ç»‘å®šäº‹ä»¶
3. start-ä¸€å¼€å§‹å°±è¦æ‰§è¡Œçš„ä¸œè¥¿
4. render-å…¶å®ƒæ–¹æ³•

- å…³é”®å€¼éƒ½åœ¨å…¨å±€å˜é‡appä¸Šï¼Œé˜²æ­¢å‘½åæ±¡æŸ“ï¼›å¦‚æœå†æœ‰ä¸€ä¸ªapp2ï¼Œé‡Œé¢å®šä¹‰çš„å˜é‡å’Œappä¸ä¼šäº’ç›¸å½±å“ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼›
- ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°æ¥å°è£…ï¼Œä»…æš´éœ²init()æ–¹æ³•ï¼›

```
<script>
    var app = {
      init: function() {
          this.a = 1,
          this.bind(),
          this.start()
      },
      bind: function() {
        console.log('bind')
      },
      start: function() {
        console.log('start')
      }
    }
    app.init()
    console.log(app.a)
    
    
    //åˆ†è£…ï¼Œæš´éœ²å‡ºinitæ¥å£
    var app = (function() {
      var index = 1
      function bind() {
        
      } 
      function setData() {
        
      }
      function getData() {
        
      }
      return {
        init: function() {
          bind()
          setData()
          getData()
        }
      }
    })()
  </script>
```

- parcelæ‰“åŒ…
